(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{205:function(t,e,s){var n=s(1);!function(t){var e;function seeMoreLink(){var e,s=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIcon+' "></i>';return this.settings.seeMoreHtml?s=this.settings.seeMoreHtml:this.settings.isMobile&&(s=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIconMobile+' "></i>'),e=this.settings.isMobile&&this.isSliding?'<a href="javascript:void(0)" class="read-more w-slide__btn slide-active" data-slide-target="'+this.settings.mobileTarget+'" aria-expanded="false">'+s+"</a>":'<a href="javascript:void(0)" class="read-more" aria-expanded="false">'+s+"</a>","UL"===this.parentTagName&&(e="<li>"+e+"</li>"),t(e)}function ellipsis(e){var s="<"+(e?'a href="#"':"span")+' class="ellipsis"> '+this.settings.ellipsisChar+" </"+(e?"a":"span")+">";return"UL"===this.parentTagName&&(s="<li>"+s+"</li>"),t(s)}function removeElements(e){var s,n,i,a=this,o=t(this),r=o.height(),l=this.settings.lines*Math.ceil(parseFloat(o.css("line-height")));if(i=this.settings.seeMoreLink?seeMoreLink.call(this):ellipsis.call(this),e.get(0).nodeType===Node.ELEMENT_NODE){for(;r>l&&e.contents().length;)s=e.contents().last().remove(),r=o.height();if(r<=l&&s)""!==t.trim(s.text())?(e.append(s),(r=o.height())>l&&removeElements.call(this,s)):(o.append(i),this.settings.addClass&&!o.hasClass(this.settings.addClass)&&setTimeout((function(){o.addClass(a.settings.addClass)}),0),o.data("truncationDone",!0),a.settings.onComplete());else if(""===t.trim(e.text()))if(n=e.parent(),e.remove(),r=o.height(),""===t.trim(n.text()))removeElements.call(this,n);else if(r<=l){if(o.children().length){var d=o.children().last();d.is("br")?d.after(i):d.parent().append(i)}else o.append(i);this.settings.addClass&&!o.hasClass(this.settings.addClass)&&setTimeout((function(){o.addClass(a.settings.addClass)}),0),o.data("truncationDone",!0),a.settings.onComplete()}}else{var c=e.text(),h=0,u=c.length-1,g=Math.floor((h+u)/2);for(n=e.parent();h<u;){if(r>l?u=g+parseInt((u-g)*l/r,10):h=g+1,i.remove(),g=Math.floor((h+u)/2),e.get(0).textContent=c.substr(0,this.settings.midWordEnabled?g:Math.min(g,c.lastIndexOf(" ",g))),""===t.trim(n.text()))return void removeElements.call(this,n);e.parent().append(i),r=o.height()}for(;r>l&&g>0;){if(i.remove(),g-=1,e.get(0).textContent=c.substr(0,this.settings.midWordEnabled?g:Math.min(g,c.lastIndexOf(" ",g))),""===t.trim(n.text()))return void removeElements.call(this,n);e.parent().append(i),r=o.height()}0===g&&(i.remove(),""===t.trim(n.text())&&removeElements.call(this,n)),r<=l&&(this.settings.addClass&&!o.hasClass(this.settings.addClass)&&setTimeout((function(){o.addClass(a.settings.addClass)}),0),o.data("truncationDone",!0),a.settings.onComplete())}}function truncateText(){var e=this,s=t(this),n=s.height(),i=this.settings.lines*parseFloat(s.css("line-height"));s.closest(":not(:visible)").length||0!==n?n>i?removeElements.call(this,s):(setTimeout((function(){s.addClass(e.settings.addClass)}),0),s.data("truncationDone",!0),e.settings.onComplete()):setTimeout((function(){truncateText.call(e)}),30)}function seeMoreMiddleLink(){var e,s=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class=" '+this.settings.seeMoreIcon+' "></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> ";return this.settings.seeMoreHtml?s=this.settings.seeMoreHtml:this.settings.isMobile&&(s=' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "+this.settings.seeMoreText+' <i class="'+this.settings.seeMoreIconMobile+'"></i> <span class="ellipsis">'+this.settings.ellipsisChar+"</span> "),e=this.settings.isMobile?'<a href="javascript:void(0)" class="read-more w-slide__btn slide-active " data-slide-target="'+this.settings.mobileTarget+'" aria-expanded="false">'+s+"</a>":'<a href="javascript:void(0)" class="read-more" aria-expanded="false">'+s+"</a>","UL"===this.parentTagName&&(e="<li>"+e+"</li>"),t(e)}function removeListItemsMiddle(){var e,s,n,i,a=this,o=t(this),r=Math.ceil(Math.max(o.children().height(),parseFloat(o.css("line-height")))),l=this.settings.lines*r,d=0,c=!o.closest(":not(:visible)").length;s=this.settings.seeMoreLink?seeMoreMiddleLink.call(this):ellipsis.call(this,!0);var h=function removeItems(){if(e=o.height(),c)if(e>l){for(;e>l&&o.contents().length>2;){s.remove(),n&&o.find(n).length&&n.remove();var r=Math.floor(o.contents().length/2);(i=t(o.contents().get(r)).remove())&&i.get(0).nodeType===Node.ELEMENT_NODE&&(null!==a.settings.ignoreCountList&&i.is(a.settings.ignoreCountList)||(d+=1)),r-=1,(e=o.height())>l&&o.contents().length>2&&((i=t(o.contents().get(r)).remove())&&i.get(0).nodeType===Node.ELEMENT_NODE&&(null!==a.settings.ignoreCountList&&i.is(a.settings.ignoreCountList)||(d+=1)),r-=1),a.settings.showRemovedCount&&d>0?(n=t.fn.truncate.removedCountMarkup(d)).insertAfter(t(o.contents().get(r))):s.insertAfter(t(o.contents().get(r))),e=o.height()}setTimeout(h,500)}else a.settings.addClass&&!o.hasClass(a.settings.addClass)&&setTimeout((function(){o.addClass(a.settings.addClass)}),0),o.data("truncationDone",!0),a.settings.onComplete()};h()}function removeListItemsEnd(){var e,s,n,i,a=this,o=t(this),r=Math.ceil(Math.max(o.children().height(),parseFloat(o.css("line-height")))),l=this.settings.lines*r,d=0,c=!o.closest(":not(:visible)").length;s=this.settings.seeMoreLink?seeMoreLink.call(this):ellipsis.call(this);var h=function removeItems(){if(e=o.height(),c)if(e>l){for(;e>l&&o.contents().length>1;)n&&o.find(n).length&&n.remove(),o.find(s).length?i=t(o.contents().get(o.contents().length-2)).remove():(i=o.contents().last().remove(),a.settings.showRemovedCount||o.append(s)),i&&i.get(0).nodeType===Node.ELEMENT_NODE&&(null!==a.settings.ignoreCountList&&i.is(a.settings.ignoreCountList)||(d+=1)),a.settings.showRemovedCount&&d>0&&(n=t.fn.truncate.removedCountMarkup(d),o.append(n)),e=o.height();setTimeout(h,500)}else a.settings.addClass&&!o.hasClass(a.settings.addClass)&&setTimeout((function(){o.addClass(a.settings.addClass)}),0),o.data("truncationDone",!0),a.settings.onComplete()};h()}function removeListItemsBetweenFirstAndLast(){var e,s,n,i,a=this,o=t(this),r=o.children(),l=r.length-2;r.length>2&&(n=r.eq(0).clone(),i=r.eq(r.length-1).clone(),e=this.settings.seeMoreLink?seeMoreMiddleLink.call(this):ellipsis.call(this,!0),a.settings.showRemovedCount&&(s=t.fn.truncate.removedCountMarkup(l)),o.html(""),o.append(n),a.settings.showRemovedCount&&l>0?o.append(s):o.append(e),o.append(i)),a.settings.addClass&&!o.hasClass(a.settings.addClass)&&setTimeout((function(){o.addClass(a.settings.addClass)}),0),o.data("truncationDone",!0),a.settings.onComplete()}function removeListItemsBeforeLast(){var e,s,n=this,i=t(this),a=i.height(),o=Math.ceil(Math.max(i.children().height(),parseFloat(i.css("line-height")))),r=this.settings.lines*o,l=seeMoreMiddleLink.call(this),d=0,c=!i.closest(":not(:visible)").length,h=function removeItems(){if(a=i.height(),c)if(a>r){for(var o=t("<div></div>");i.children().length>1&&o.children().length<n.settings.lastItemsCount||i.contents().last().get(0).nodeType===Node.TEXT_NODE;)o.prepend(i.contents().last().remove());for(var u=o.contents();a>r&&i.children().length>2;)e&&i.find(e).length&&e.remove(),l.remove(),u.remove(),(s=i.contents().last().remove())&&s.get(0).nodeType===Node.ELEMENT_NODE&&(null!==n.settings.ignoreCountList&&s.is(n.settings.ignoreCountList)||(d+=1)),n.settings.showRemovedCount&&d>0?(e=t.fn.truncate.removedCountMarkup(d),i.append(e)):i.append(l),i.append(u),a=i.height();setTimeout(h,500)}else n.settings.addClass&&!i.hasClass(n.settings.addClass)&&setTimeout((function(){i.addClass(n.settings.addClass)}),0),i.data("truncationDone",!0),n.settings.onComplete()};h()}function truncateList(){var e=this,s=t(this),n=s.height(),i=Math.ceil(Math.max(s.children().height(),parseFloat(s.css("line-height")))),a=this.settings.lines*i,o=!s.closest(":not(:visible)").length;if(0===s.children().length)return s.addClass(e.settings.addClass),s.data("truncationDone",!0),void e.settings.onComplete();if(!o||0!==n&&0!==a)switch(this.settings.position){case"middle":n>a?removeListItemsMiddle.call(this,s):(this.settings.addClass&&!s.hasClass(this.settings.addClass)&&setTimeout((function(){s.addClass(e.settings.addClass)}),0),s.data("truncationDone",!0),e.settings.onComplete());break;case"end":n>a?removeListItemsEnd.call(this,s):(this.settings.addClass&&!s.hasClass(this.settings.addClass)&&setTimeout((function(){s.addClass(e.settings.addClass)}),0),s.data("truncationDone",!0),e.settings.onComplete());break;case"betweenFirstAndLast":removeListItemsBetweenFirstAndLast.call(this,s);break;case"beforeLast":n>a?removeListItemsBeforeLast.call(this,s):(this.settings.addClass&&!s.hasClass(this.settings.addClass)&&setTimeout((function(){s.addClass(e.settings.addClass)}),0),s.data("truncationDone",!0),e.settings.onComplete())}else setTimeout((function(){truncateList.call(e)}),30)}function seeLessLink(){var e,s=(this.settings.lessLinkEllipsis?' <span class="ellipsis">'+this.settings.ellipsisChar+"</span> ":"&nbsp;")+this.settings.seeLessText+' <i class="'+this.settings.seeLessIcon+'"></i>';return this.settings.seeLessHtml&&(s=this.settings.seeLessHtml),e='<a href="javascript:void(0)" class="read-less" aria-expanded="true">'+s+"</a>","UL"===this.parentTagName&&(e="<li>"+e+"</li>"),t(e)}function addEventHandlers(){var e,s,n=this,i=t(this),a=[9,13],o=!0;n.settings.readMoreWithSpacebar&&(a=[9,13,32]),n.settings.animation&&(s=!0),i.on("touchend mousedown keydown",(function(r){function readMore(){r.preventDefault();var t=i.children().length;i.data("truncatedContent",i.html()),i.html(i.data("originalContent"));var s=seeLessLink.call(n);if(i.append(s),n.settings.animation){i.css("height","auto");var a=i.outerHeight(!0);i.height(e).animate({height:a},300),setTimeout((function(){i.css("height","auto")}),350)}"keydown"===r.type&&("UL"===i[0].parentTagName?i.children().eq(t-1).find("a").trigger("focus"):s.focus())}if(!("keydown"===r.type&&a.indexOf(r.keyCode)<0)&&(n.settings.readMoreWithSpacebar&&(o=9!==r.keyCode),n.settings.animation&&s&&(e=i.outerHeight(!0),s=!1),i.data("truncationDone")&&o)){var l=t(r.target);l.hasClass("ellipsis")&&l.is("a")&&readMore(),(l.hasClass("read-more")&&!l.hasClass("w-slide__btn")||l.parent().hasClass("read-more")&&!l.parent().hasClass("w-slide__btn")||l.hasClass("removed-items-count"))&&readMore(),(l.hasClass("read-less")||l.parent().hasClass("read-less"))&&function readLess(){9!==r.keyCode&&(r.preventDefault(),n.settings.animation?(i.animate({height:e},300),setTimeout((function(){i.html(i.data("truncatedContent"))}),250)):i.html(i.data("truncatedContent")),i.find(".read-more").focus())}()}})),t(document).data("activeTabHandlerAdded")||(t(document).data("activeTabHandlerAdded","yes"),t(document).on("tabs:changeActiveTab",(function(e,s){setTimeout((function(){t(".truncate-delayed",s.tabId).truncate()}),10)})))}function restoreContent(){var e=t(this);e.data("originalContent")&&(e.html(e.data("originalContent")),this.settings&&this.settings.addClass&&e.removeClass(this.settings.addClass))}function truncateStart(){var e=t(this);this.settings.showRemovedCount&&e.truncate("destroy"),this.settings.isMobile&&"desktop"===this.settings.targetViewport||!this.settings.isMobile&&"mobile"===this.settings.targetViewport?restoreContent.call(this):!e.closest(".tab__pane").length||e.closest(".tab__pane").hasClass("active")?(e.removeClass("truncate-delayed"),this.settings&&"text"===this.settings.type?truncateText.call(this):this.settings&&"list"===this.settings.type&&(this.parentTagName=e.get(0).tagName,truncateList.call(this))):e.addClass("truncate-delayed")}function addResponsiveHandlers(){var e=this;function targetViewportOn(){e.settings.isMobile=!0,truncateStart.call(e)}function targetViewportOff(){e.settings.isMobile=!1,truncateStart.call(e)}this.prevVPort&&(t(document).off(this.prevVPort+"-on",targetViewportOn),t(document).off(this.prevVPort+"-off",targetViewportOff)),t(document).on(this.settings.vPort+"-on",targetViewportOn),t(document).on(this.settings.vPort+"-off",targetViewportOff),this.prevVPort=this.settings.vPort}e={init:function init(e){return this.each((function(){var s=t(this),n=!0;s.data("originalContent")?(s.data("settings")&&(this.settings=s.data("settings")),restoreContent.call(this),n=!1):s.data("originalContent",s.html());var i={};s.data("truncate-lines")&&(i.lines=parseInt(s.data("truncate-lines"),10)),s.data("truncate-type")&&(i.type=s.data("truncate-type")),s.data("truncate-position")&&(i.position=s.data("truncate-position")),void 0!==s.data("truncate-show-removed-count")&&(i.showRemovedCount=s.data("truncate-show-removed-count")),void 0!==s.data("truncate-see-more-link")&&(i.seeMoreLink=s.data("truncate-see-more-link")),s.data("truncate-see-more-text")&&(i.seeMoreText=s.data("truncate-see-more-text")),s.data("truncate-see-less-text")&&(i.seeLessText=s.data("truncate-see-less-text")),s.data("truncate-see-more-html")&&(i.seeMoreHtml=s.data("truncate-see-more-html")),s.data("truncate-see-less-html")&&(i.seeLessHtml=s.data("truncate-see-less-html")),s.data("truncate-ellipsis-char")&&(i.ellipsisChar=s.data("truncate-ellipsis-char")),s.data("truncate-last-items-count")&&(i.lastItemsCount=parseInt(s.data("truncate-last-items-count"),10)),s.data("truncate-mobile-target")&&(i.mobileTarget=s.data("truncate-mobile-target")),s.data("truncate-add-class")&&(i.addClass=s.data("truncate-add-class")),s.data("truncate-vport")&&(i.vPort=s.data("truncate-vport")),s.data("truncate-target-viewport")&&(i.targetViewport=s.data("truncate-target-viewport")),void 0!==s.data("truncate-mid-word-enabled")&&(i.midWordEnabled=s.data("truncate-mid-word-enabled")),void 0!==s.data("truncate-less-link-ellipsis")&&(i.lessLinkEllipsis=s.data("truncate-less-link-ellipsis")),this.settings=t.extend({},this.settings||t.fn.truncate.defaults,i,e||{}),s.data("settings",this.settings),s.data("truncationDone",!1),truncateStart.call(this),n&&addEventHandlers.call(this),addResponsiveHandlers.call(this)}))},destroy:function destroy(){return this.each((function(){restoreContent.call(this)}))}},t.fn.truncate=function(s){return e[s]?e[s].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==n(s)&&s?void t.error("Method "+s+" does not exist on jQuery.truncate"):e.init.apply(this,arguments)},t.fn.truncate.removedCountMarkup=function(e){return t('<a href="javascript:void(0)" class="removed-items-count"> + '+e+" </a>")},t.fn.truncate.defaults={type:"text",position:"end",showRemovedCount:!1,lines:1,seeMoreLink:!1,seeMoreText:"See More",seeLessText:"See Less",seeMoreIcon:"icon-section_arrow_d",seeLessIcon:"icon-section_arrow_u",seeMoreIconMobile:"icon-arrow_r",seeMoreHtml:"",seeLessHtml:"",ellipsisChar:"&hellip;",lessLinkEllipsis:!1,lastItemsCount:1,isMobile:!1,isSliding:!0,mobileTarget:"",targetViewport:"all",addClass:"",vPort:"screen-sm",midWordEnabled:!1,animation:!1,ignoreCountList:null,readMoreWithSpacebar:!1,onComplete:function onComplete(){}}}(jQuery)},206:function(t,e){UX.truncateInit={init:function init(){$(".creative-work__title").not("[data-truncate='none']").truncate({lines:3,addClass:"min-height"}),$(".creative-work .loa").not("[data-truncate='none']").truncate({lines:2,type:"list",addClass:"loa-height"}),$(".featured .grid-item:first-child .creative-work__title").not("[data-truncate='none']").truncate({lines:2,addClass:"min-height"}),$(".card .creative-work__title").not("[data-truncate='none']").truncate({lines:2,addClass:"min-height"}),$(".card .creative-work .loa").not("[data-truncate='none']").truncate({lines:1,type:"list",addClass:"loa-height"}),$(window).on("resized orientationchange",(function(){$(".creative-work__title, .creative-work .loa").not("[data-truncate='none']").truncate()}))}}},207:function(t,e){var s;s={$target:$(".js--truncate"),init:function init(){s.truncate()},truncate:function truncate(){s.$target.each((function(){$(this).truncate()}))}},UX.truncater=s},208:function(t,e){var s;s={$loa:null,vPort:"screen-xs",init:function init(){var t=$(".to-section");t.length?t.each((function(){var t=$(this).text(),e=$(this).attr("id");$('<li><a class="w-slide__hide" href="#'+e+'"><span>'+t+"</span></a></li>").appendTo(".sections__drop")})):$(".toc-go-section, .toc__section").remove(),s.$loa=$(".issue-item .loa, .search__item .meta__authors, .search__item .loa"),s.control(),s.additionalControl()},control:function control(){$(window).on("load orientationchange",(function(t){s.truncate()})),$(document).on(s.vPort+"-on",(function(){s.isMobile=!0,s.truncate()})),$(document).on(s.vPort+"-off",(function(){s.isMobile=!1,s.truncate()}))},additionalControl:function additionalControl(){},truncate:function truncate(){try{s.$loa.not("[data-truncate='none']").truncate({lines:2,type:"list",seeMoreLink:!0,seeMoreText:"See all authors",seeLessText:"See fewer authors"})}catch(t){console.error(t)}}},UX.tocJs=s},262:function(t,e,s){"use strict";s.r(e);var n,i,a,o;s(205),s(206),s(207),s(208);n=UX.tocJs,i=document.querySelector(".toc-js__translation"),a=i&&i.dataset.seeMoreText||"See all authors",o=i&&i.dataset.seeLessText||"See fewer authors",n.init=function(){var t=$(".to-section");t.length?t.each((function(){var t=$(this).text(),e=$(this).attr("id");$('<li role="menuitem"><a class="w-slide__hide" href="#'+e+'"><span>'+t+"</span></a></li>").appendTo(".sections__drop")})):$(".toc-go-section, .toc__section").remove(),n.$loa=$(".issue-item .loa, .search__item .meta__authors, .search__item .loa, .search-item .meta__authors, .search-item .loa"),n.control()},n.truncate=function(){try{n.$loa.not("[data-truncate='none']").truncate({lines:2,type:"list",seeMoreLink:!0,seeMoreText:a,seeLessText:o})}catch(t){console.error(t)}},UX.tocJs=n;e.default=function main(t){var e=Array.prototype.slice.call(document.querySelectorAll(".js--truncate,.creative-work__title,.loa")),s=Array.prototype.slice.call(document.querySelectorAll(".loa,.meta__authors"));try{e.length&&t.truncater.init(e)}catch(t){console.error(t)}try{s.length&&t.tocJs.init(s)}catch(t){console.error(t)}}}}]);
//# sourceMappingURL=vendors~truncate-7db8a336f997672facc3.js.map